[core]
dags_folder = /opt/airflow/dags
logs_folder = /opt/airflow/logs
plugins_folder = /opt/airflow/plugins
executor = LocalExecutor
sql_alchemy_conn = postgresql+psycopg2://airflow:airflow@postgres/airflow
load_examples = False
logging_level = INFO

[database]
sql_alchemy_conn = ${AIRFLOW_DB_CONNECTION}
sql_engine_encoding = utf-8
sql_alchemy_pool_enabled = True
sql_alchemy_pool_size = 5
sql_alchemy_max_overflow = 10

[logging]
base_log_folder = /opt/airflow/logs
remote_logging = True
remote_base_log_folder = gs://${AIRFLOW_GCS_BUCKET}/logs
remote_log_conn_id = google_cloud_default
encrypt_s3_logs = False
logging_level = INFO
fab_logging_level = WARN
logging_config_class =

[webserver]
web_server_port = 8081
base_url = http://localhost:8081
secret_key = ${AIRFLOW_SECRET_KEY}
expose_config = True
web_server_host = 0.0.0.0
access_control_allow_origins = *

[scheduler]
dag_file_processor_timeout = 600
min_file_process_interval = 30
dag_dir_list_interval = 60

[smtp]
smtp_host = localhost
smtp_starttls = True
smtp_ssl = False
smtp_port = 25

[kubernetes]
dags_volume_claim = airflow-dags
logs_volume_claim = airflow-logs
dags_volume_subpath =
logs_volume_subpath =
dags_in_image = False
delete_worker_pods = True

[kubernetes_node_selectors]
cloud.google.com/gke-nodepool = airflow-pool

[kubernetes_secrets]
AIRFLOW_DB_CONNECTION = airflow-db-connection
AIRFLOW_FERNET_KEY = airflow-fernet-key
AIRFLOW_SECRET_KEY = airflow-secret-key 