[core]
dags_folder = /opt/airflow/dags
load_examples = False
executor = LocalExecutor
parallelism = 32
dag_file_processor_timeout = 600

[database]
sql_alchemy_conn = ${AIRFLOW_DB_CONNECTION}
sql_engine_encoding = utf-8
sql_alchemy_pool_enabled = True
sql_alchemy_pool_size = 5
sql_alchemy_max_overflow = 10

[logging]
base_log_folder = /opt/airflow/logs
remote_logging = True
remote_base_log_folder = gs://${AIRFLOW_GCS_BUCKET}/logs
remote_log_conn_id = google_cloud_default
encrypt_s3_logs = False

[webserver]
base_url = http://localhost:8080
web_server_host = 0.0.0.0
web_server_port = 8080
secret_key = ${AIRFLOW_SECRET_KEY}
workers = 4
worker_class = sync
expose_config = False
authenticate = True
filter_by_owner = True
owner_mode = user

[scheduler]
job_heartbeat_sec = 5
scheduler_heartbeat_sec = 5
min_file_process_interval = 30
dag_dir_list_interval = 60
print_stats_interval = 30
scheduler_health_check_threshold = 30
catchup_by_default = False
max_tis_per_query = 512

[smtp]
smtp_host = localhost
smtp_starttls = True
smtp_ssl = False
smtp_port = 25

[kubernetes]
dags_volume_claim = airflow-dags
logs_volume_claim = airflow-logs
dags_volume_subpath =
logs_volume_subpath =
dags_in_image = False
delete_worker_pods = True

[kubernetes_node_selectors]
cloud.google.com/gke-nodepool = airflow-pool

[kubernetes_secrets]
AIRFLOW_DB_CONNECTION = airflow-db-connection
AIRFLOW_FERNET_KEY = airflow-fernet-key
AIRFLOW_SECRET_KEY = airflow-secret-key 